---
title: 数仓：缓慢渐变维度
date: 2020-10-28 17:23:21
tags:
---

# 背景
当业务数据库中的一些数据发生了更改，到底要不要将这些变化也反映到数据仓库中？在数据仓库中，那些数据应该随之变化，哪些可以不用变化？考虑到这些变化，在数据仓库中的维度表又应该如何设计以满足这些需要。

# Type 1 SCD
> 替换原始记录

我们可以保持业务数据和数据仓库中的数据始终处于一致。

* 优点：简单方便
* 缺点：无法追溯历史数据

# Type 2 SCD
> 插入一条新的记录

* 优点：保留全部历史记录
* 缺点：使数据表记录飞涨，可能导致影响查询效率

尽可能维护来自业务系统中的历史数据，能够真正捕获


# Type 3 SCD
> 更新原始表结构

* 优点：既可以反映历史记录，也可以避免成倍的数据增长
* 缺点：适用场景非常少，仅能反映部分历史记录。